import { NextFunction, Request, Response } from "express";
import { CACHE_PERIOD } from "../utils/constants";

/**
* Middleware for setting cache control header
* @param {Request} req
* @param {Response} res
* @param {NextFunction} next
* @returns {void} none
*/
export const setCache = function(req: Request, res: Response, next: NextFunction): void {
  // only cache GET requests
  if(req.method === 'GET') {
    res.setHeader("Cache-Control", `public, max-age=${CACHE_PERIOD}`);

  }
    next();
}
